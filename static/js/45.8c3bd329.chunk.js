(self.webpackChunkbling_staff=self.webpackChunkbling_staff||[]).push([[45],{1386:(e,r,t)=>{"use strict";t.d(r,{R$:()=>s,ts:()=>i,uK:()=>n});var l=t(69525);function s(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM-dd-yyyy";return(0,l.A)(new Date(e),r)}function i(e){return(0,l.A)(new Date(e),"dd MMMM yyyy")}function n(e){return(0,l.A)(new Date(e),"dd MMM yyyy HH:mm")}},15340:()=>{},15791:()=>{},24753:(e,r,t)=>{"use strict";t.d(r,{A:()=>p});var l=t(90620),s=t.n(l),i=t(96446),n=t(85865),o=t(88446),d=t(35475),a=t(22698),c=t(70579);function x(e){let{links:r,activeLast:t=!1,...l}=e;const s=r[r.length-1].name,o=r.map((e=>(0,c.jsx)(h,{link:e},e.name))),d=r.map((e=>(0,c.jsx)("div",{children:e.name!==s?(0,c.jsx)(h,{link:e}):(0,c.jsx)(n.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:s})},e.name)));return(0,c.jsx)(a.A,{separator:(0,c.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...l,children:t?o:d})}function h(e){let{link:r}=e;const{href:t,name:l,icon:s}=r;return(0,c.jsxs)(o.A,{variant:"body2",component:d.N_,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[s&&(0,c.jsx)(i.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:s}),l]},l)}function p(e){let{links:r,action:t,heading:l,moreLink:d=[],sx:a,...h}=e;return(0,c.jsxs)(i.A,{sx:{mb:5,...a},children:[(0,c.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,c.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:l}),(0,c.jsx)(x,{links:r,...h})]}),t&&(0,c.jsx)(i.A,{sx:{flexShrink:0},children:t})]}),(0,c.jsx)(i.A,{sx:{mt:2},children:s()(d)?(0,c.jsx)(o.A,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map((e=>(0,c.jsx)(o.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},50477:()=>{},61093:()=>{},79838:()=>{},88533:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>le});var l=t(65043),s=t(19252),i=t(68903),n=t(12110),o=t(48407),d=t(11737),a=t(19838),c=t(24753),x=t(70579);var h=t(88911),p=t(35866),j=t(32143),u=t(77739),v=t(72812),m=t(19825),f=t(20974),A=t(8081),g=t(14961);const y=160;function b(e){var r;let{users:t,selectsupervisors:l,filterStartDate:s,filterEndDate:i,filterUser:n,filterMasterUser:o,filterProvider:d,onFilterProvider:a,providers:c,onFilterUser:b,onFilterMasterUser:S,onFilterStartDate:_,onFilterEndDate:E,loadText:D="Load",viewReportText:F="Preview",title:w="Filter list",handleRefresh:C,handlePrint:B,isLoading:P,isReportNotFound:U}=e;const{t:R}=(0,g.B)();return(0,x.jsxs)(h.A,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[(0,x.jsx)(A.A,{}),(0,x.jsxs)(p.A,{fullWidth:!0,select:!0,label:R("field.operator"),value:d,onChange:a,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:y}},children:[(0,x.jsx)(j.A,{value:"",sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"uppercase",fontWeight:"bold"},children:R("params.all")},"ALL"),null===c||void 0===c?void 0:c.map((e=>(0,x.jsx)(j.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)))]}),(0,x.jsx)(p.A,{fullWidth:!0,select:!0,label:R("field.supervisor"),value:o,onChange:S,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:y}},children:null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.map((e=>(0,x.jsx)(j.A,{value:e.uid,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.full_name},e.uid)))}),(0,x.jsx)(p.A,{fullWidth:!0,select:!0,label:R("field.user"),value:n,onChange:b,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize",maxWidth:{md:y}},children:null===t||void 0===t?void 0:t.map((e=>(0,x.jsx)(j.A,{value:e.uid,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e.full_name},e.uid)))}),(0,x.jsx)(m.l,{label:R("field.start_date"),value:s,onChange:_,renderInput:e=>(0,x.jsx)(p.A,{...e,fullWidth:!0})}),(0,x.jsx)(m.l,{label:R("field.end_date"),value:i,onChange:E,renderInput:e=>(0,x.jsx)(p.A,{...e,fullWidth:!0})}),(0,x.jsx)(u.A,{title:w,children:(0,x.jsx)("span",{children:(0,x.jsx)(v.A,{startIcon:(0,x.jsx)(f.A,{icon:"ic:round-filter-list"}),variant:"contained",onClick:C,loading:P,size:"large",children:D})})}),!U&&(0,x.jsx)(u.A,{title:"Effectuer Report",children:(0,x.jsx)("span",{children:(0,x.jsx)(v.A,{loading:P,variant:"contained",color:"secondary",onClick:B,size:"large",children:F})})})]})}var S=t(26240),_=t(79958),E=t(79650),D=t(71806),F=t(84882),w=t(28076),C=t(10039),B=t(73460),P=t(39336),U=t(31802),R=t(73338);function k(e){let{list:r}=e;const t=(0,S.A)(),{t:l}=(0,g.B)();return(0,x.jsxs)(n.A,{sx:{backgroundColor:t.palette.primary.light,color:"white"},children:[(0,x.jsx)(_.A,{title:l("sideBar.vendor"),sx:{mb:3}}),(0,x.jsx)(U.A,{children:(0,x.jsx)(E.A,{sx:{minWidth:720},children:(0,x.jsxs)(D.A,{children:[(0,x.jsx)(F.A,{children:(0,x.jsxs)(w.A,{children:[(0,x.jsx)(C.A,{align:"left",children:l("field.user")}),(0,x.jsx)(C.A,{align:"center",children:l("app.total_ticket")}),(0,x.jsx)(C.A,{align:"center",children:l("app.total_montant")}),(0,x.jsxs)(C.A,{align:"center",children:["%",l("sideBar.vendor")]})]})}),(0,x.jsx)(B.A,{children:null===r||void 0===r?void 0:r.map((e=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(w.A,{children:[(0,x.jsx)(C.A,{sx:{color:"white"},children:e.full_name}),(0,x.jsx)(C.A,{align:"center",sx:{color:"white"},children:e.counts}),(0,x.jsx)(C.A,{align:"center",sx:{color:"white"},children:(0,R.KZ)(e.montants)}),(0,x.jsx)(C.A,{align:"center",sx:{color:"white"},children:(0,R.KZ)(e.percents)})]},e.ref_code),(0,x.jsx)(P.A,{})]})))})]})})})]})}function M(e){let{report:r}=e;const t=(0,S.A)(),{t:l}=(0,g.B)();return(0,x.jsx)(n.A,{sx:{border:`solid 2px ${t.palette.primary.main}`},children:(0,x.jsx)(U.A,{children:(0,x.jsx)(E.A,{sx:{minWidth:720},children:(0,x.jsx)(D.A,{children:(0,x.jsx)(B.A,{children:(0,x.jsxs)(w.A,{children:[(0,x.jsxs)(C.A,{children:[l("app.total_ticket"),": ",null===r||void 0===r?void 0:r.counts]}),(0,x.jsxs)(C.A,{align:"center",children:[l("app.total_montant"),": ",(0,R.KZ)(null===r||void 0===r?void 0:r.montants)]}),(0,x.jsxs)(C.A,{align:"left",children:["%",l("sideBar.vendor"),": ",(0,R.KZ)(null===r||void 0===r?void 0:r.percent_vendor)]}),(0,x.jsxs)(C.A,{align:"left",children:["%",l("sideBar.supervisor"),":"," ",(0,R.KZ)(null===r||void 0===r?void 0:r.percent_supervisor)]}),(0,x.jsxs)(C.A,{align:"left",children:[l("params.total_discount"),":"," ",(0,R.KZ)(null===r||void 0===r?void 0:r.commission_sys)]})]},"cool")})})})})})}function Y(e){let{list:r}=e;const t=(0,S.A)(),{t:l}=(0,g.B)();return(0,x.jsxs)(n.A,{sx:{backgroundColor:t.palette.primary.light,color:"white"},children:[(0,x.jsx)(_.A,{title:l("sideBar.supervisor"),sx:{mb:3}}),(0,x.jsx)(U.A,{children:(0,x.jsx)(E.A,{sx:{minWidth:720},children:(0,x.jsxs)(D.A,{children:[(0,x.jsx)(F.A,{children:(0,x.jsxs)(w.A,{children:[(0,x.jsx)(C.A,{align:"left",children:l("sideBar.supervisor")}),(0,x.jsx)(C.A,{align:"center",children:l("app.total_montant")}),(0,x.jsx)(C.A,{align:"right",children:l("app.total_commission")})]})}),(0,x.jsx)(B.A,{children:null===r||void 0===r?void 0:r.map((e=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(w.A,{children:[(0,x.jsx)(C.A,{sx:{color:"white"},children:e.full_name}),(0,x.jsx)(C.A,{align:"center",sx:{color:"white"},children:(0,R.KZ)(e.montants)}),(0,x.jsx)(C.A,{align:"right",sx:{color:"white"},children:(0,R.KZ)(e.percents)})]},e.ref_code),(0,x.jsx)(P.A,{})]})))})]})})})]})}function K(e){var r,t,l;let{handlePrint:h,users:p,selectsupervisors:j,providers:u,filterProvider:v,onFilterProvider:m,filterStartDate:f,filterEndDate:A,filterUser:y,filterMasterUser:S,onFilterUser:_,onFilterMasterUser:E,onFilterStartDate:D,onFilterEndDate:F,handleRefresh:w,isLoading:C,reports:B}=e;const{t:P}=(0,g.B)(),{themeStretch:U}=(0,d.A)(),R=!B||0===(null===B||void 0===B||null===(r=B.report)||void 0===r?void 0:r.counts);return(0,x.jsx)(a.A,{title:`Report: ${P("p_report.report_sale")}`,children:(0,x.jsxs)(s.A,{maxWidth:!U&&"lg",children:[(0,x.jsx)(c.A,{heading:P("p_report.report_sale"),links:[{name:P("params.dashboard"),href:o.nB.root},{name:P("p_report.report"),href:o.nB.report.root},{name:P("p_report.report_sale")}]}),(0,x.jsxs)(i.Ay,{container:!0,spacing:3,children:[(0,x.jsx)(i.Ay,{item:!0,xs:12,md:12,children:(0,x.jsx)(n.A,{children:(0,x.jsx)(b,{filterUser:y,filterMasterUser:S,filterProvider:v,onFilterProvider:m,providers:u,filterStartDate:f,filterEndDate:A,onFilterUser:_,onFilterMasterUser:E,onFilterStartDate:D,onFilterEndDate:F,users:p,selectsupervisors:j,handleRefresh:w,isLoading:C,placeholder:P("params.search",{obj:P("p_report.report")}),loadText:P("params.load"),viewReportText:P("params.view_report"),title:P("params.filter_list"),handlePrint:h,isReportNotFound:R})})}),(0,x.jsx)(i.Ay,{item:!0,xs:12,md:12,children:(0,x.jsx)(M,{report:null===B||void 0===B?void 0:B.report})}),(null===B||void 0===B||null===(t=B.vendors)||void 0===t?void 0:t.length)>0&&(0,x.jsx)(i.Ay,{item:!0,xs:12,md:12,children:(0,x.jsx)(k,{list:null===B||void 0===B?void 0:B.vendors})}),(null===B||void 0===B||null===(l=B.supervisors)||void 0===l?void 0:l.length)>0&&(0,x.jsx)(i.Ay,{item:!0,xs:12,md:12,children:(0,x.jsx)(Y,{list:null===B||void 0===B?void 0:B.supervisors})})]})]})})}var W=t(34535),Z=t(96446),z=t(85865),T=t(30342),$=(t(50467),t(68583)),L=t(1386);const I=$.vv.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb8:{marginBottom:8},mb40:{marginBottom:40},overline:{fontSize:8,marginBottom:8,fontWeight:700,letterSpacing:1.2,textTransform:"uppercase"},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{padding:"40px 24px 0 24px",fontSize:9,lineHeight:1.6,fontFamily:"Helvetica",backgroundColor:"#fff",textTransform:"capitalize"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableHeader:{},tableBody:{},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}});function H(e){var r,t,l,s,i,n,o;let{tirages:d,users:a,succursales:c,filterTirage:h,filterSuccursale:p,filterUser:j,filterStartDate:u,filterEndDate:v,reports:m,user:f}=e;const A=(0,L.uK)(new Date),{t:y}=(0,g.B)();return(0,x.jsx)($.yo,{children:(0,x.jsxs)($.YW,{size:"A4",style:I.page,children:[(0,x.jsxs)($.Ss,{style:[I.gridContainer,I.mb40],children:[(0,x.jsx)($.Ss,{style:{alignItems:"left",flexDirection:"column"},children:(0,x.jsx)($._V,{src:{uri:"/static/logo/logo.png",method:"GET",headers:{"Cache-Control":"no-cache"},body:""},alt:"logo",style:{height:32}})}),(0,x.jsx)($.Ss,{style:{alignItems:"right",flexDirection:"column"},children:(0,x.jsx)($.Ss,{})})]}),(0,x.jsx)($.Ss,{style:{alignItems:"center",justifyContent:"center"},children:(0,x.jsx)($.EY,{style:{fontSize:20},children:y("p_report.report_sale")})}),(0,x.jsxs)($.Ss,{style:[I.gridContainer,I.mb40],children:[(0,x.jsx)($.Ss,{style:{alignItems:"left",flexDirection:"column"},children:(0,x.jsx)($.EY,{children:"AirTime"})}),(0,x.jsx)($.Ss,{style:{alignItems:"right",flexDirection:"column"},children:(0,x.jsx)($.EY,{children:(0,L.uK)(A)})})]}),(0,x.jsxs)($.Ss,{style:[I.gridContainer,I.mb40],children:[(0,x.jsxs)($.Ss,{style:I.col6,children:[(0,x.jsx)($.EY,{style:[I.overline,I.mb8],children:y("params.from")}),(0,x.jsx)($.EY,{style:I.body1,children:(0,L.ts)(null===m||void 0===m?void 0:m.start_date)})]}),(0,x.jsxs)($.Ss,{style:I.col6,children:[(0,x.jsx)($.EY,{style:[I.overline,I.mb8],children:y("params.to")}),(0,x.jsx)($.EY,{style:I.body1,children:(0,L.ts)(null===m||void 0===m?void 0:m.end_date)})]})]}),(0,x.jsx)($.Ss,{style:[I.gridContainer,I.mb40],children:(0,x.jsx)($.Ss,{style:I.col4,children:(0,x.jsxs)($.EY,{style:I.body1,children:[y("sideBar.vendor"),":"," ",(null===a||void 0===a||null===(r=a.find((e=>e.id===j)))||void 0===r?void 0:r.full_name)||`${y("params.all")}`]})})}),(0,x.jsx)($.EY,{style:[I.overline,I.mb8],children:y("sideBar.vendor")}),(0,x.jsxs)($.Ss,{style:[I.table,I.mb40],children:[(0,x.jsx)($.Ss,{style:I.tableHeader,children:(0,x.jsxs)($.Ss,{style:I.tableRow,children:[(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{style:I.subtitle2,children:y("field.user")})}),(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{style:I.subtitle2,children:y("app.total_ticket")})}),(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{style:I.subtitle2,children:y("app.total_montant")})}),(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsxs)($.EY,{style:I.subtitle2,children:["%",y("sideBar.vendor")]})})]})}),(0,x.jsx)($.Ss,{style:I.tableBody,children:null===m||void 0===m||null===(t=m.vendors)||void 0===t?void 0:t.map(((e,r)=>(0,x.jsxs)($.Ss,{style:I.tableRow,children:[(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{children:e.full_name})}),(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{children:e.counts})}),(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{children:(0,R.KZ)(e.montants)})}),(0,x.jsx)($.Ss,{style:I.tableCell_3,children:(0,x.jsx)($.EY,{children:(0,R.KZ)(e.percents)})})]},r)))})]}),(0,x.jsx)($.EY,{style:[I.overline,I.mb8],children:y("sideBar.supervisor")}),(0,x.jsxs)($.Ss,{style:[I.table,I.mb40],children:[(0,x.jsx)($.Ss,{style:I.tableHeader,children:(0,x.jsxs)($.Ss,{style:I.tableRow,children:[(0,x.jsx)($.Ss,{style:I.tableCell_2,children:(0,x.jsx)($.EY,{style:I.subtitle2,children:y("sideBar.supervisor")})}),(0,x.jsx)($.Ss,{style:I.tableCell_2,children:(0,x.jsx)($.EY,{style:I.subtitle2,children:y("app.total_montant")})}),(0,x.jsx)($.Ss,{style:I.tableCell_2,children:(0,x.jsx)($.EY,{style:I.subtitle2,children:y("app.total_commission")})})]})}),(0,x.jsx)($.Ss,{style:I.tableBody,children:null===m||void 0===m||null===(l=m.supervisors)||void 0===l?void 0:l.map(((e,r)=>(0,x.jsxs)($.Ss,{style:I.tableRow,children:[(0,x.jsx)($.Ss,{style:I.tableCell_2,children:(0,x.jsx)($.EY,{children:e.full_name})}),(0,x.jsx)($.Ss,{style:I.tableCell_2,children:(0,x.jsx)($.EY,{children:(0,R.KZ)(e.montants)})}),(0,x.jsx)($.Ss,{style:I.tableCell_2,children:(0,x.jsx)($.EY,{children:(0,R.KZ)(e.percents)})})]},r)))})]}),(0,x.jsx)($.EY,{style:[I.overline,I.mb8],children:y("field.total")}),(0,x.jsx)($.Ss,{style:I.table,children:(0,x.jsx)($.Ss,{style:I.tableBody,children:(0,x.jsxs)($.Ss,{style:[I.tableRow],children:[(0,x.jsx)($.Ss,{style:[I.tableCell_2],children:(0,x.jsxs)($.EY,{style:I.subtitle2,children:[y("app.total_ticket"),": ",(0,R.KZ)(null===m||void 0===m||null===(s=m.report)||void 0===s?void 0:s.counts)]})}),(0,x.jsx)($.Ss,{style:[I.tableCell_2],children:(0,x.jsxs)($.EY,{style:I.subtitle2,children:[y("app.total_montant"),":"," ",(0,R.KZ)(null===m||void 0===m||null===(i=m.report)||void 0===i?void 0:i.montants)]})}),(0,x.jsx)($.Ss,{style:[I.tableCell_2],children:(0,x.jsxs)($.EY,{style:I.subtitle2,children:["%",y("sideBar.vendor"),":"," ",(0,R.KZ)(null===m||void 0===m||null===(n=m.report)||void 0===n?void 0:n.percentsA)]})}),(0,x.jsx)($.Ss,{style:[I.tableCell_2],children:(0,x.jsxs)($.EY,{style:I.subtitle2,children:["%",y("sideBar.supervisor"),":"," ",(0,R.KZ)(null===m||void 0===m||null===(o=m.report)||void 0===o?void 0:o.percentsS)]})})]})})}),(0,x.jsx)($.Ss,{style:[I.gridContainer,I.footer],children:(0,x.jsxs)($.Ss,{style:I.col8,children:[(0,x.jsx)($.EY,{style:I.subtitle2,children:y("params.notes")}),(0,x.jsx)($.EY,{children:y("params.notices_report")})]})})]})})}var N=t(11906),G=t(29347),O=t(17392),V=t(71393);function Q(e){let{handlePrint:r,users:t,selectsupervisors:s,providers:i,filterProvider:n,onFilterProvider:o,filterStartDate:d,filterEndDate:a,filterUser:c,onFilterUser:p,filterMasterUser:j,onFilterMasterUser:m,onFilterStartDate:A,onFilterEndDate:y,handleRefresh:b,isLoading:S,reports:_}=e;const[E,D]=(0,l.useState)(!1),{user:F}=(0,T.A)(),{t:w}=(0,g.B)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(h.A,{mb:5,direction:"row",justifyContent:"flex-end",spacing:1.5,children:[(0,x.jsx)(N.A,{color:"error",size:"small",variant:"contained",onClick:r,children:w("params.back")}),(0,x.jsx)(N.A,{color:"info",size:"small",variant:"contained",onClick:()=>{D(!0)},endIcon:(0,x.jsx)(f.A,{icon:"eva:eye-fill"}),sx:{mx:1},children:w("sideBar.OVERVIEW")}),(0,x.jsx)($.XP,{document:(0,x.jsx)(H,{reports:_,filterUser:c,filterMasterUser:j,filterProvider:n,onFilterProvider:o,providers:i,filterStartDate:d,filterEndDate:a,onFilterUser:p,onFilterMasterUser:m,onFilterStartDate:A,onFilterEndDate:y,users:t,selectsupervisors:s,handleRefresh:b,isLoading:S,handlePrint:r,user:F}),fileName:`${w("p_report.report_sale")} ${w("params.from")} ${(0,L.ts)(d)} ${w("params.to")} ${(0,L.ts)(a)}`,style:{textDecoration:"none"},children:e=>{let{loading:r}=e;return(0,x.jsx)(v.A,{size:"small",loading:r,variant:"contained",loadingPosition:"end",endIcon:(0,x.jsx)(f.A,{icon:"eva:download-fill"}),children:w("params.download")})}})]}),(0,x.jsx)(V.ys,{fullScreen:!0,open:E,children:(0,x.jsxs)(Z.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,x.jsx)(G.A,{sx:{zIndex:9,padding:"12px !important",boxShadow:e=>e.customShadows.z8},children:(0,x.jsx)(u.A,{title:"Close",children:(0,x.jsx)(O.A,{color:"inherit",onClick:()=>{D(!1)},children:(0,x.jsx)(f.A,{icon:"eva:close-fill"})})})}),(0,x.jsx)(Z.A,{sx:{flexGrow:1,height:"100%",overflow:"hidden"},children:(0,x.jsx)($.TO,{width:"100%",height:"100%",style:{border:"none"},children:(0,x.jsx)(H,{reports:_,filterUser:c,filterMasterUser:j,filterProvider:n,onFilterProvider:o,providers:i,filterStartDate:d,filterEndDate:a,onFilterUser:p,onFilterMasterUser:m,onFilterStartDate:A,onFilterEndDate:y,users:t,selectsupervisors:s,handleRefresh:b,isLoading:S,handlePrint:r,user:F})})})]})})]})}const X=(0,W.Ay)(w.A)((e=>{let{theme:r}=e;return{"& td":{paddingTop:r.spacing(1),paddingBottom:r.spacing(1)}}}));function q(e){var r,t,l,h,p,j,u,v,m;let{handlePrint:f,users:A,providers:y,filterProvider:b,onFilterProvider:_,filterStartDate:k,filterEndDate:M,filterUser:Y,onFilterUser:K,onFilterStartDate:W,onFilterEndDate:$,handleRefresh:I,isLoading:H,reports:N}=e;const{t:G}=(0,g.B)(),{user:O}=(0,T.A)(),{themeStretch:V}=(0,d.A)(),q=((0,S.A)(),(0,L.uK)(new Date));return(0,x.jsx)(a.A,{title:`Report: ${G("p_report.report_sale")}`,children:(0,x.jsxs)(s.A,{maxWidth:!V&&"lg",children:[(0,x.jsx)(c.A,{heading:G("p_report.report_sale"),links:[{name:G("params.dashboard"),href:o.nB.root},{name:G("p_report.report"),href:o.nB.report.root},{name:G("p_report.report_sale")}]}),(0,x.jsx)(Q,{reports:N,filterUser:Y,filterProvider:b,onFilterProvider:_,providers:y,filterStartDate:k,filterEndDate:M,onFilterUser:K,onFilterStartDate:W,onFilterEndDate:$,users:A,handleRefresh:I,isLoading:H,handlePrint:f}),(0,x.jsxs)(n.A,{sx:{pt:5,px:5},children:[(0,x.jsxs)(i.Ay,{container:!0,children:[(0,x.jsx)(i.Ay,{item:!0,xs:12,sm:6,sx:{mb:5},children:(0,x.jsx)(Z.A,{sx:{textAlign:{sm:"left"},width:120,height:50},children:(0,x.jsx)("img",{src:"/static/logo/logo.png",alt:"logo",style:{paddingLeft:18,paddingRight:18}})})}),(0,x.jsx)(i.Ay,{item:!0,xs:12,sm:6,sx:{mb:5},children:(0,x.jsx)(Z.A,{sx:{textAlign:{sm:"right"}}})}),(0,x.jsx)(i.Ay,{item:!0,xs:12,sm:6,sx:{mb:5},children:(0,x.jsx)(Z.A,{sx:{textAlign:{sm:"left"}}})}),(0,x.jsx)(i.Ay,{item:!0,xs:12,sm:6,sx:{mb:5},children:(0,x.jsx)(Z.A,{sx:{textAlign:{sm:"right"}},children:(0,x.jsx)(z.A,{variant:"h6",children:(0,L.uK)(q)})})}),(0,x.jsx)(i.Ay,{item:!0,xs:12,sm:12,sx:{mb:5},children:(0,x.jsx)(Z.A,{sx:{textAlign:{sm:"center"}},children:(0,x.jsx)(z.A,{variant:"h3",children:G("p_report.report_sale")})})}),(0,x.jsxs)(i.Ay,{item:!0,xs:12,sm:6,sx:{mb:5},children:[(0,x.jsx)(z.A,{paragraph:!0,variant:"overline",sx:{color:"text.disabled"},children:G("params.from")}),(0,x.jsx)(z.A,{variant:"body2",children:(0,L.ts)(null===N||void 0===N?void 0:N.start_date)})]}),(0,x.jsxs)(i.Ay,{item:!0,xs:12,sm:6,sx:{mb:5},children:[(0,x.jsx)(z.A,{paragraph:!0,variant:"overline",sx:{color:"text.disabled"},children:G("params.to")}),(0,x.jsx)(z.A,{variant:"body2",children:(0,L.ts)(null===N||void 0===N?void 0:N.end_date)})]}),(0,x.jsx)(i.Ay,{item:!0,xs:12,sm:4,sx:{mb:5},children:(0,x.jsxs)(z.A,{paragraph:!0,variant:"overline",children:[G("sideBar.vendor"),":"," ",(null===A||void 0===A||null===(r=A.find((e=>e.id===Y)))||void 0===r?void 0:r.full_name)||`${G("params.all")}`]})})]}),(0,x.jsx)(z.A,{paragraph:!0,variant:"overline",children:G("sideBar.vendor")}),(0,x.jsx)(U.A,{children:(0,x.jsx)(E.A,{sx:{minWidth:960},children:(0,x.jsxs)(D.A,{children:[(0,x.jsx)(F.A,{sx:{borderBottom:e=>`solid 1px ${e.palette.divider}`,"& th":{backgroundColor:"transparent"}},children:(0,x.jsxs)(w.A,{children:[(0,x.jsx)(C.A,{align:"left",children:G("field.user")}),(0,x.jsx)(C.A,{align:"center",children:G("app.total_ticket")}),(0,x.jsx)(C.A,{align:"center",children:G("app.total_montant")}),(0,x.jsxs)(C.A,{align:"center",children:["%",G("sideBar.vendor")]})]})}),(0,x.jsx)(B.A,{children:null===N||void 0===N||null===(t=N.vendors)||void 0===t?void 0:t.map(((e,r)=>(0,x.jsxs)(w.A,{sx:{borderBottom:e=>`solid 1px ${e.palette.divider}`},children:[(0,x.jsx)(C.A,{children:e.full_name}),(0,x.jsx)(C.A,{align:"center",children:e.counts}),(0,x.jsx)(C.A,{align:"center",children:(0,R.KZ)(e.montants)}),(0,x.jsx)(C.A,{align:"center",children:(0,R.KZ)(e.percents)})]},r)))})]})})}),(null===N||void 0===N||null===(l=N.supervisors)||void 0===l?void 0:l.length)>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(z.A,{paragraph:!0,variant:"overline",children:G("sideBar.supervisor")}),(0,x.jsx)(U.A,{children:(0,x.jsx)(E.A,{sx:{minWidth:960},children:(0,x.jsxs)(D.A,{children:[(0,x.jsx)(F.A,{sx:{borderBottom:e=>`solid 1px ${e.palette.divider}`,"& th":{backgroundColor:"transparent"}},children:(0,x.jsxs)(w.A,{children:[(0,x.jsx)(C.A,{align:"left",children:G("sideBar.supervisor")}),(0,x.jsx)(C.A,{align:"center",children:G("app.total_montant")}),(0,x.jsx)(C.A,{align:"right",children:G("app.total_commission")})]})}),(0,x.jsx)(B.A,{children:null===N||void 0===N||null===(h=N.supervisors)||void 0===h?void 0:h.map(((e,r)=>(0,x.jsxs)(w.A,{sx:{borderBottom:e=>`solid 1px ${e.palette.divider}`},children:[(0,x.jsx)(C.A,{children:e.full_name}),(0,x.jsx)(C.A,{align:"center",children:(0,R.KZ)(e.montants)}),(0,x.jsx)(C.A,{align:"right",children:(0,R.KZ)(e.percents)})]},r)))})]})})})]}),(0,x.jsx)("br",{}),(0,x.jsx)(z.A,{paragraph:!0,variant:"overline",children:G("field.total")}),(0,x.jsx)(U.A,{children:(0,x.jsx)(E.A,{sx:{minWidth:960},children:(0,x.jsx)(D.A,{children:(0,x.jsxs)(X,{children:[(0,x.jsx)(C.A,{align:"left",children:(0,x.jsxs)(z.A,{variant:"subtitle2",children:[G("app.total_ticket"),":"," ",(0,R.KZ)(null===N||void 0===N||null===(p=N.report)||void 0===p?void 0:p.counts)]})}),(0,x.jsx)(C.A,{align:"left",children:(0,x.jsxs)(z.A,{variant:"subtitle2",children:[G("app.total_montant"),":"," ",(0,R.KZ)(null===N||void 0===N||null===(j=N.report)||void 0===j?void 0:j.montants)]})}),(0,x.jsx)(C.A,{align:"left",children:(0,x.jsxs)(z.A,{variant:"subtitle2",children:["%",G("sideBar.vendor"),":"," ",(0,R.KZ)(null===N||void 0===N||null===(u=N.report)||void 0===u?void 0:u.percent_vendor)]})}),(0,x.jsx)(C.A,{align:"left",children:(0,x.jsxs)(z.A,{variant:"subtitle2",children:["%",G("sideBar.supervisor"),":"," ",(0,R.KZ)(null===N||void 0===N||null===(v=N.report)||void 0===v?void 0:v.percent_supervisor)]})}),(0,x.jsx)(C.A,{align:"left",children:(0,x.jsxs)(z.A,{variant:"subtitle2",children:[G("params.total_discount"),":"," ",(0,R.KZ)(null===N||void 0===N||null===(m=N.report)||void 0===m?void 0:m.commission_sys)]})})]})})})}),(0,x.jsx)(P.A,{sx:{mt:5}}),(0,x.jsx)(i.Ay,{container:!0,children:(0,x.jsxs)(i.Ay,{item:!0,xs:12,md:9,sx:{py:3},children:[(0,x.jsx)(z.A,{variant:"subtitle2",children:G("params.notes")}),(0,x.jsx)(z.A,{variant:"body2",children:G("params.notices_report")})]})})]})]})})}var J=t(29835),ee=t(34866),re=t(18175),te=t(56056);function le(){const e=(0,te.wA)(),{reports:r,isLoading:t}=(0,te.d4)((e=>e.report)),{users:s,providers:i}=(0,te.d4)((e=>e.generale)),{selectsupervisors:n}=(0,te.d4)((e=>e.supervisor)),[o,d]=(0,l.useState)(!1),[a,c]=(0,l.useState)("All"),[h,p]=(0,l.useState)("All"),[j,u]=(0,l.useState)("PPN"),[v,m]=(0,l.useState)(new Date),[f,A]=(0,l.useState)(new Date),g=()=>{e((0,J.Q)((0,L.R$)(v,"yyyy-M-d"),(0,L.R$)(f,"yyyy-M-d"),h,a,j)),e((0,re.bW)()),e((0,ee.lo)()),e((0,ee.Z3)())};(0,l.useEffect)((()=>{g()}),[e]);const y=()=>{d(!o)},b=e=>{c(e.target.value)},S=e=>{p(e.target.value)},_=e=>{u(e.target.value)};return(0,x.jsx)(x.Fragment,{children:!1===o?(0,x.jsx)(K,{handlePrint:y,filterUser:a,filterMasterUser:h,filterProvider:j,filterStartDate:v,filterEndDate:f,onFilterUser:b,onFilterMasterUser:S,onFilterProvider:_,onFilterStartDate:e=>{m(e)},onFilterEndDate:e=>{A(e)},selectsupervisors:n,users:s,providers:i,handleRefresh:g,isLoading:t,reports:r}):(0,x.jsx)(q,{handlePrint:y,filterUser:a,filterMasterUser:h,filterProvider:j,filterStartDate:v,filterEndDate:f,onFilterUser:b,onFilterMasterUser:S,onFilterProvider:_,onFilterStartDate:e=>{m(e)},onFilterEndDate:e=>{A(e)},selectsupervisors:n,users:s,providers:i,reports:r})})}}}]);
//# sourceMappingURL=45.8c3bd329.chunk.js.map